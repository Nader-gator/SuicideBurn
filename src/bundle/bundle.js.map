{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.js","webpack:///./src/game_handler.js","webpack:///./src/point.js","webpack:///./src/ship.js","webpack:///./src/surface.js"],"names":["width","height","window","innerHeight","newGame","e","fresh","canvasEl","document","getElementById","ctx","getContext","shipcanvasEl","shipCtx","statsEl","statsCtx","textEl","textCtx","innerWidth","style","surface","Surface","gravity","ship","Ship","hSpeed","vSpeed","coords","game","Game","preGame","body","onkeyup","keyCode","start","addEventListener","GameHandler","collisionHappened","boardX","boardY","fX","fY","lX","lY","i","points","length","Math","abs","angle","clearCanvas","interval","setInterval","step","render","isOver","fire","clearInterval","checkLanding","result","Point","options","star","bonus","x","y","fuel","offset","keyAction","bind","firing","deg","PI","calculateX","calculateY","updateVSpeed","updateHSpeed","force","cos","radians","sin","offsetY","offsetX","translate","code","rotate","onkeydown","gravityChange","clearRect","drawStats","shipFiring","drawImage","fireEngine","text","beginPath","lineWidth","strokeStyle","fillStyle","rect","fill","stroke","font","textAlign","fillText","ceil","status","generateGrid","ceiling","floor","generateRandom","insertStars","fillRect","grid","push","j","sX","sY","dx","dY","sxP","syP","forEach","row","point","random","el","arc","draws","flat","hill","mountain","randAr","concat","shuffle","unshift","startCoords","action","draw","save","a","begin","type","xStart","yStart","newX","newY","yRand","yPeak","xEnd","xTravel","yFloor","max","round","drawToCoords","randomNum","num","from","to","fromX","fromY","toX","toY","moveTo","lineTo"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","import Ship from './ship'\nimport Surface from './surface'\nimport Game from './game_handler'\n  export const width = 3000\n  export const height = window.innerHeight -75\n\nexport const newGame = (e,fresh = true)=>{\nconst canvasEl = document.getElementById('layer1')\n  const ctx = canvasEl.getContext(\"2d\")\n\n  const shipcanvasEl = document.getElementById('layer2')\n  const shipCtx = shipcanvasEl.getContext(\"2d\")\n  \n  \n  const statsEl = document.getElementById('layer3')\n  const statsCtx = statsEl.getContext(\"2d\")\n  \n  const textEl = document.getElementById('layer4')\n  const textCtx = textEl.getContext(\"2d\")\n\n\n    canvasEl.height = height\n    canvasEl.width = window.innerWidth\n    shipcanvasEl.height = height\n    shipcanvasEl.width = window.innerWidth\n    statsEl.height = height\n    statsEl.width = window.innerWidth\n\n    textEl.height = height\n    textEl.width = window.innerWidth\n    textEl.style.height = height\n    textEl.style.width = window.innerWidth\n\n  const surface = new Surface(\n    {width,\n     height,\n     gravity:0.0035,\n     ctx}\n      )\n\n  const ship = new Ship(\n    {hSpeed: 2,\n    vSpeed: 0.5,\n    coords:[50,50],\n    ctx: shipCtx,\n    gravity: surface.gravity,\n    statsCtx,\n    textCtx\n      })\n  const game = new Game(surface,ship)\n\n    if (fresh === true) {\n      game.preGame()\n      document.body.onkeyup = function (e) {\n        if (e.keyCode == 32) {\n          game.start()\n          document.body.onkeyup = null\n        }\n      }\n    }else{game.start()\n    document.body.onkeyup = null\n    }\n\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", newGame)\n","import {newGame} from './app'\nexport default class GameHandler{\n  constructor(surface, ship){\n    this.ship = ship\n    this.surface = surface\n  }\n\n  isOver(){\n    if \n      (this.surface.collisionHappened(this.ship.boardX+30,this.ship.boardY+30) ||\n      this.surface.collisionHappened(this.ship.boardX+30,this.ship.boardY) ||\n      this.surface.collisionHappened(this.ship.boardX,this.ship.boardY+30) ||\n      this.surface.collisionHappened(this.ship.boardX,this.ship.boardY)\n    ){\n      return true\n    }\n    return false\n  }\n\n\n  checkLanding(){\n        let fX ;let fY;let lX;let lY\n    for (let i = 0; i < this.surface.points.length; i++) {\n      if (this.surface.points[i][0] > this.ship.boardX+30){\n        lX = this.surface.points[i][0]\n        lY = this.surface.points[i][1]\n        fX = this.surface.points[i - 1][0]\n        fY = this.surface.points[i - 1][1]\n        break\n      }\n    }\n    \n    if (Math.abs(fY - lY) <= 5 \n    && Math.abs(fX -lX) > 20\n    && (this.ship.vSpeed < 0.35)\n    && (Math.abs(this.ship.hSpeed) < 0.2)\n    && (this.ship.angle === 0 || this.ship.angle === -10 || this.ship.angle === 10)\n    ){\n      return true\n    }else{\n      return false\n      // console.log(Math.abs(fY - lY))\n      // console.log(Math.abs(fX - lX))\n      // console.log((this.ship.vSpeed))\n      // console.log(Math.abs(this.ship.hSpeed))\n    }\n  }\n\n  preGame(){\n    this.ship.preGame()\n  }\n  start(){\n    this.ship.clearCanvas()\n    this.interval = setInterval(() => {\n      this.ship.step()\n      this.ship.render()\n      if (this.isOver()){\n        this.ship.fire = false\n        this.ship.render()\n        clearInterval(this.interval)\n        if (this.checkLanding()){\n          this.ship.result('good')\n          document.body.onkeyup = function (e) {\n            if (e.keyCode == 32) {\n              newGame(null, false)\n            }\n          }\n        } else {\n          this.ship.result('bad')\n          document.body.onkeyup = function (e) {\n            if (e.keyCode == 32) {\n              newGame(null, false)\n            }\n          }\n          \n        }\n      }\n    }, 20);\n\n\n  }\n}","export default class Point{\n  constructor(coords,options={ star: false, bonus: false}){\n    this.x = coords[0]\n    this.y = coords[1]\n    this.star = options.star\n    this.bonus = options.bonus\n  }\n}","import {width,height} from './app'\n\n\"hSpeed = pixes/ms\"\nexport default class Ship {\n  constructor(options){\n    this.hSpeed = options.hSpeed\n    this.vSpeed = options.vSpeed\n    this.x = options.coords[0]\n    this.y = options.coords[1]\n    this.boardX = options.coords[0]\n    this.boardY = options.coords[1]\n    this.ctx = options.ctx\n    this.gravity= options.gravity\n    this.statsCtx = options.statsCtx\n    this.textCtx = options.textCtx\n    this.fuel = 5000\n\n    this.ctx.height = height\n    this.ctx.width = width\n    this.offset = 90\n    this.keyAction=this.keyAction.bind(this)\n    this.keyAction({},90)\n    this.angle = 90\n    this.fire = false\n    this.firing = false\n    this.step = this.step.bind(this)\n  }\n\n  radians(deg){\n    return (deg * (Math.PI / 180))\n  }\n  step(){\n\n    const x = this.calculateX()\n    const y = this.calculateY()\n\n    this.boardX= this.boardX + this.hSpeed\n    this.boardY= this.boardY + this.vSpeed\n    this.x = x\n    this.y = y\n\n  }\n\n  fireEngine(){\n    this.updateVSpeed(0.009)\n    this.updateHSpeed(0.009)\n  }\n\n  updateVSpeed(force){\n    this.vSpeed -= force * Math.cos(this.radians(this.angle))\n  }\n  updateHSpeed(force){\n    this.hSpeed -= force * Math.sin(this.radians(this.angle))\n  }\n\n  gravityChange(){\n    this.vSpeed += this.gravity\n  }\n\n  calculateX(){\n    //for x axis\n    const offset = Math.cos(this.radians(this.angle)) \n    let result = (offset * this.hSpeed)\n    //for y axis\n    const offsetY = Math.sin(this.radians(this.angle)) * -1\n    return (this.x + (offsetY * this.vSpeed)) + result\n  }\n\n\n  calculateY(){\n    //for x axis\n    const offset = Math.sin(this.radians(this.angle)) \n    let result = (offset * this.hSpeed)\n    //for y axis\n    const offsetY = Math.cos(this.radians(this.angle))\n    return (this.y + (offsetY * this.vSpeed)) + result\n  }\n\n  keyAction(e,deg){\n\n    const offsetX=(this.x)+(30/2)\n    const offsetY=(this.y)+(30/2)\n    \n    this.ctx.translate(offsetX , offsetY);\n    \n    if (e.code === \"ArrowRight\" && this.angle < 90){\n      this.ctx.rotate(-10*Math.PI/180);\n      this.angle += 10\n    }\n    if(e.code === \"ArrowLeft\" && this.angle > -90){\n      this.ctx.rotate(10*Math.PI/180);\n      this.angle -= 10\n    }\n    if(deg){\n       this.ctx.rotate(-deg*Math.PI/180);\n    }\n    if (e.code === \"Space\") {\n      this.firing=true\n      this.fire = true\n    }\n    this.ctx.translate(-1*(offsetX), -1*(offsetY))\n  }\n  \n  render(){\n    window.onkeydown = this.keyAction\n    window.onkeyup = (e)=> {if(e.code===\"Space\"){\n      this.fire=false;this.firing=false}}\n    this.gravityChange()\n    this.ctx.clearRect(this.x-10, this.y-10, height, width);\n\n      this.drawStats()\n\n\n    if(this.fire){\n      const shipFiring = document.getElementById(\"ship-firing\")\n      this.ctx.drawImage(shipFiring, this.x + 10, this.y + 25, 10, 10);\n      this.fuel -= 10\n    }\n    if (this.firing){\n      this.fireEngine()\n    }\n    const ship = document.getElementById(\"ship\")\n    \n    this.ctx.drawImage(ship,this.x,this.y,30,30);\n    \n    \n  }\n\n  drawStats(){\n    const ctx = this.statsCtx\n    const text = this.textCtx\n    \n    ctx.beginPath();\n    ctx.lineWidth = \"1\";\n    ctx.strokeStyle = \"white\";\n    ctx.fillStyle=\"black\"\n    ctx.rect(window.innerWidth * 0.865, 30, 160, 90);\n    ctx.fill()\n    ctx.stroke();\n\n\n    text.clearRect(window.innerWidth * 0.865, 30, 160, 90)\n    text.beginPath();\n    text.font = \"normal 13px Arial \";\n    text.fillStyle = \"grey\";\n    text.lineWidth = \"1\"\n    text.textAlign = \"right\";\n    text.fillText(`Horizontal Speed: ${Math.ceil(this.hSpeed * 100)}`, window.innerWidth * 0.965, 60)\n\n    text.fillText(`Vertical Speed: ${Math.ceil(this.vSpeed * 100)}`, window.innerWidth * 0.965, 80)\n    text.fillText(`Fuel: ${Math.ceil(this.fuel)}`, window.innerWidth * 0.965, 100)\n  }\n\n  preGame(){\n    const ctx = this.statsCtx\n    const text = this.textCtx\n\n    ctx.beginPath();\n    ctx.lineWidth = \"1\";\n    ctx.strokeStyle = \"white\";\n    ctx.fillStyle = \"#252626\"\n    ctx.rect(\n      window.innerWidth * 0.175,\n      window.innerHeight / 5,\n      window.innerWidth*0.65,\n      window.innerHeight /4);\n    ctx.fill()\n    ctx.stroke();\n\n    text.beginPath();\n    text.font = \"normal 18px Arial \";\n    text.fillStyle = \"white\";\n    text.lineWidth = \"1\"\n    text.textAlign = \"center\";\n    text.fillText(`Welcome to SuicideBurn, the Objective of the game is to land the ship preserving as much fuel as possible.`, window.innerWidth * 0.5 , window.innerHeight / 3.9)\n    \n    text.fillText(`fire your engine by pressing space, and rotate the ship by left and right arrow keys`, window.innerWidth * 0.5, window.innerHeight / 3.2)\n    text.fillText(`press SPACE to START`, window.innerWidth * 0.5, window.innerHeight / 2.5)\n  }\n\n  clearCanvas(){\n    const ctx = this.statsCtx\n    const text = this.textCtx\n\n    ctx.clearRect(0, 0, width, height);\n    text.clearRect(0, 0, width, height);\n  }\n\n  result(status){\n    const ctx = this.statsCtx\n    const text = this.textCtx\n\n    ctx.beginPath();\n    ctx.lineWidth = \"1\";\n    ctx.strokeStyle = \"white\";\n    ctx.fillStyle = \"#252626\"\n\n\n    text.beginPath();\n    text.font = \"normal 25px Arial \";\n    text.fillStyle = \"white\";\n    text.lineWidth = \"1\"\n    text.textAlign = \"center\";\n    if (status === 'good'){\n      ctx.rect(window.innerWidth * 0.3, window.innerHeight / 7,\n      window.innerWidth * 0.4, window.innerHeight / 1.5);\n      text.fillText(`The Eagle Has Landed!`, window.innerWidth * 0.5, window.innerHeight / 4)\n    } else if(status === 'bad') {\n      ctx.rect(\n        window.innerWidth * 0.325,\n         window.innerHeight / 6,\n         \n        window.innerWidth * 0.35, \n        window.innerHeight / 4.5);\n\n      text.fillText(`You left a 2 mile crater on the Moon!`, window.innerWidth * 0.5, window.innerHeight / 4)\n      text.fillText(`Press space to start a new game`, window.innerWidth * 0.5, window.innerHeight / 3)\n\n    }\n\n    ctx.fill()\n    ctx.stroke();\n  }\n}","import Point from './point'\nimport {width,height} from './app'\n\nexport default class Surface {\n  constructor(options){\n    this.width = options.width\n    this.height = options.height\n    this.gravity = options.gravity\n    this.generateGrid()\n    this.ctx = options.ctx\n    this.render()\n    this.ceiling = this.height * 0.3\n    this.floor = this.height * 0.9\n    this.points = []\n    this.generateRandom()\n    this.insertStars()\n  }\n\n  render(){\n\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = 'black';\n  }\n\n  generateGrid(){\n    let grid = []\n    for (let i = 0; i < this.height; i++) {\n      grid.push([])\n        for (let j = 0; j < this.width; j++) {\n          grid[i].push(new Point([j,i]))\n        }\n    }\n    this.grid = grid\n  }\n\n  collisionHappened(sX,sY){\n    let fX ;let fY;let lX;let lY\n    for (let i = 0; i < this.points.length; i++) {\n      if (this.points[i][0] > sX){\n        lX = this.points[i][0]\n        lY = this.points[i][1]\n        fX = this.points[i - 1][0]\n        fY = this.points[i - 1][1]\n        break\n      }\n    }\n\n    let dx = lX -fX\n    let dY = lY - fY\n\n    if (dY <= 0){ //going up\n      if (sY > fY){\n        return true\n      } else if (sY < lY){\n        return false\n      }\n    }\n    if (dY > 0) {\n      if (sY > lY){\n        return true\n      } else if (sY < fY){\n        return false\n      }\n    }\n\n    let sxP = (sX - fX) / dx\n    let syP= (fY - sY) / dY\n    if (syP === 0 && sxP === 0){\n      return true\n    }\n    if (Math.abs(syP) > sxP){\n      if (dY > 0){\n        return true\n      }\n      return false\n    }\n    if (dY > 0) {\n      return false\n    }\n    return true\n  }\n\n\n\n  insertStars(){\n    this.grid.forEach(row => {\n      row.forEach(point => {\n        if (Math.floor(Math.random() * 7000) === 1){\n          if (!this.collisionHappened(point.x,point.y)){\n            point.star = true\n          }\n        }\n      })\n    })\n\n    this.grid.forEach((row, y) => {\n      row.forEach((el, x) => {\n        if (el.star === true) {\n          this.ctx.beginPath();\n          this.ctx.arc(x, y, 1, 0, 2 * Math.PI);\n          this.ctx.fillStyle = \"white\";\n          this.ctx.fill();\n        }\n      })\n    })\n  }\n\n  generateRandom(){\n\n    \"4 bonus, 3 flat, 3hills, 2 mountain\"\n    const draws = {\n      flat: 'flat',\n      bonus: 'flatBonus',\n      hill:['hill','valley'],\n      mountain: ['mountain','fall']\n    }\n    \n    let randAr = [];\n    \n\n    [1,2].forEach(i=>{\n      randAr.push(draws.bonus)\n    });\n    [1,2].forEach(i=>{\n      randAr.push(draws.flat)\n    });\n    [1,2].forEach(i=>{\n      randAr.push(draws.hill)\n    });\n    [1,2,3].forEach(i=>{\n      randAr.push(draws.mountain)\n    })\n    \n    randAr= randAr.concat(randAr)\n    \n    randAr = this.shuffle(randAr)\n    randAr.unshift(draws.hill)\n    randAr = randAr.flat()\n\n    this.ctx.beginPath();\n    this.ctx.strokeStyle = \"white\"\n    this.ctx.lineWidth = 0.5\n    \n    let startCoords = [0,this.floor]\n    randAr.forEach(action=>{\n      startCoords = this.draw(startCoords,action)\n    })\n    \n    this.ctx.stroke();\n    this.ctx.save()\n  }\n\n  shuffle(a){\n    for (let i = a.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n  }\n\n  draw(begin,type){\n\n    let xStart = begin[0]\n    let yStart = begin[1]\n    let newX = xStart + 1\n    let newY = yStart\n\n    //----modifiable random generator parameters\n    let yRand\n    let yPeak\n    let length\n    let xEnd\n    let xTravel\n    let yFloor\n    //----modifiable random generator parameters\n\n    \n    switch (type) {\n      case 'flat':\n        yRand = {max: 2, type: 0}\n        yPeak = {max: 40,type:1}\n        yFloor = {max: 20,type: -1}\n        length = (0.03 * this.width)\n        xEnd = xStart + length\n        xTravel = Math.round(length * 0.6)\n        break\n\n        case 'flatBonus':\n        yRand = {max: 2, type: 0}\n        yPeak = {max: 40,type:-1}\n        yFloor = {max: 20,type: -1}\n        length = Math.round(0.01 * this.width)\n        xEnd = xStart + length\n        xTravel = Math.round(length * 0.6)\n\n        break\n\n        case 'valley':\n        yRand = {max: 20, type: 1}\n        yPeak = {max: 5,type:1}\n        yFloor = {max: 20,type: -1}\n        length = Math.round(0.04 * this.width)\n        xEnd = xStart + length\n        xTravel = Math.round(length * 0.15)\n        break\n        \n        case 'hill':\n        yRand = {max: 20, type: -1}\n        yPeak = {max: 5,type:1}\n        yFloor = {max: 20,type: -1}\n        length = Math.round(0.02 * this.width)\n        xEnd = xStart + length\n        xTravel = Math.round(length * 0.08)\n        break\n\n      case 'mountain':\n        yRand = {max: 150, type: -1}\n        yPeak = {max: 20,type:1}\n        yFloor = {max: 20,type: -1}\n        length = Math.round(0.08 * this.width)\n        xEnd = xStart + length\n        xTravel = Math.round(length * 0.15)\n        break\n      case 'fall':\n        yRand = {max: 150, type: 1}\n        yPeak = {max: 20,type:1}\n        yFloor = {max: 20,type: -1}\n        length = Math.round(0.04 * this.width)\n        xEnd = xStart + length\n        xTravel = Math.round(length * 0.15)\n        break\n    }\n\n\n\n\n    while (true) {\n      this.drawToCoords([xStart, yStart], [newX, newY])\n\n      if (newX >= xEnd){\n        return [newX, newY]\n      }\n\n      xStart = newX;\n      yStart = newY\n      newY = newY + this.randomNum(yRand)\n      while ( newY < this.ceiling) {\n        newY = newY + this.randomNum(yPeak)\n      }\n      while (newY > this.floor){\n        newY = newY + this.randomNum(yFloor)\n      }\n      newX = newX + xTravel\n    }\n\n\n\n\n\n  }\n\n\n  randomNum(options){\n    let num = Math.floor(Math.random() * options.max) + 1\n    if (options.type === 0){\n      num *= Math.floor(Math.random() * 2) == 1 ? 1 : -1\n    } else if (options.type === -1){\n      num *= -1\n    }\n    return num\n  }\n\n  pointOn(x,y){\n    return this.grid[y][x]\n  }\n\n  drawToCoords(from,to){\n    const ctx = this.ctx\n    const fromX = from[0]\n    const fromY = from[1]\n    const toX= to[0]\n    const toY= to[1]\n\n    // ctx.beginPath();\n    this.points.push([fromX,fromY])\n    ctx.moveTo(fromX, fromY)\n    ctx.lineTo(toX, toY);\n    \n  }\n\n}"],"sourceRoot":""}